<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Todos</title>
</head>
<body>
<h1>HELLO WORLD</h1>
<ul id="todo-list">

</ul>
<script>
  async function init() {
    try {
      const response = await fetch('/todo/todos?limit=&offset=0');
      if (!response.ok) {
        throw new Error('Failed to fetch todos');
      }
      const data = await response.json();
      console.log(data);
      writeTodos(data);
    } catch (error) {
      console.error('Error fetching todos:', error);
    }
  }

  function writeTodos(todos){
    const ul = document.getElementById('todo-list');

    for (const todo of todos) {
      const li = document.createElement('li');
      li.textContent = todo.text;
      ul.appendChild(li);
    }
  }

  document.addEventListener('DOMContentLoaded', init)
</script>
</body>
</html>